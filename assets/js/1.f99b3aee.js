(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{51:function(e,r,t){"use strict";t.r(r);var a=t(0),s=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"controller规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#controller规范","aria-hidden":"true"}},[e._v("#")]),e._v(" Controller规范")]),t("p",[e._v("第一篇文章中，我贴了2段代码，第一个是原生态的，第2段是我指定了接口定义规范，使用AOP技术之后最终交付的代码，从15行到1行，自己感受一下。今天来说说大家关注的AOP如何实现。")]),t("p",[e._v("先说说Controller规范，主要的内容是就是"),t("a",{attrs:{href:"http://www.imooc.com/article/27664",target:"_blank",rel:"noopener noreferrer"}},[e._v("接口定义")]),e._v("里面的内容，你只要遵循里面的规范，controller就问题不大，除了这些，还有另外的几点：")]),t("h2",{attrs:{id:"统一返回resultbean对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#统一返回resultbean对象","aria-hidden":"true"}},[e._v("#")]),e._v(" 统一返回ResultBean对象")]),t("p",[e._v("所有函数返回统一的ResultBean/PageResultBean格式，原因见我的接口定义这个贴。没有统一格式，AOP无法玩。")]),t("h2",{attrs:{id:"resultbean不允许往后传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resultbean不允许往后传","aria-hidden":"true"}},[e._v("#")]),e._v(" ResultBean不允许往后传")]),t("p",[e._v("ResultBean/PageResultBean是controller专用的，不允许往后传！往其他地方传之后，可读性立马下降，和传map，json好不了多少。")]),t("h2",{attrs:{id:"controller只做参数格式的转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#controller只做参数格式的转换","aria-hidden":"true"}},[e._v("#")]),e._v(" Controller只做参数格式的转换")]),t("p",[e._v("Controller做参数格式的转换，不允许把json，map这类对象传到services去，也不允许services返回json、map。写过代码都知道，map，json这种格式灵活，但是可读性差（\n编码一时爽，重构火葬场）。如果放业务数据，每次阅读起来都十分困难，需要从头到尾看完才知道里面有什么，是什么格式。定义一个bean看着工作量多了，但代码清晰多了。")]),t("h2",{attrs:{id:"参数不允许出现request，response-这些对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数不允许出现request，response-这些对象","aria-hidden":"true"}},[e._v("#")]),e._v(" 参数不允许出现Request，Response 这些对象")]),t("p",[e._v("和json/map一样，主要是可读性差的问题。一般情况下不允许出现这些参数，除非要操作流。")]),t("h2",{attrs:{id:"不需要打印日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不需要打印日志","aria-hidden":"true"}},[e._v("#")]),e._v(" 不需要打印日志")]),t("p",[e._v("日志在AOP里面会打印，而且我的建议是大部分日志在Services这层打印。")]),t("p",[e._v("规范里面大部分是 "),t("strong",[e._v("不要做的项多，要做的比较少")]),e._v("，落地比较容易。")])])}],!1,null,null,null);r.default=s.exports}}]);