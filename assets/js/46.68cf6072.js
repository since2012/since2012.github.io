(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{87:function(a,e,r){"use strict";r.r(e);var t=r(0),s=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker")]),r("h2",{attrs:{id:"启动容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#启动容器","aria-hidden":"true"}},[a._v("#")]),a._v(" 启动容器")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker run -it -p 80:80 -d <image_id>"),r("br")])]),r("h2",{attrs:{id:"进入镜像的shell"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#进入镜像的shell","aria-hidden":"true"}},[a._v("#")]),a._v(" 进入镜像的shell")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker run -t -i ubuntu /bin/bash"),r("br")])]),r("p",[a._v("官网是这么说的：")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker run: runs a container."),r("br"),a._v("ubuntu: is the image you would like to run."),r("br"),a._v("-t: flag assigns a pseudo-tty or terminal inside the new container."),r("br"),a._v("-i: flag allows you to make an interactive connection by grabbing the standard in (STDIN) of the container."),r("br"),a._v("/bin/bash: launches a Bash shell inside our container."),r("br"),r("br")])]),r("p",[a._v("docker run：启动container\nubuntu：你想要启动的image\n-t：进入终端\n-i：获得一个交互式的连接，通过获取container的输入\n/bin/bash：在container中启动一个bash shell")]),r("p",[a._v("这样就进入container的内部了：")]),r("p",[a._v("|root@af8bae53bdd3:/#")]),r("h2",{attrs:{id:"进入运行中的container"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#进入运行中的container","aria-hidden":"true"}},[a._v("#")]),a._v(" 进入运行中的container")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker exec -it <container_id> bash"),r("br")])]),r("h2",{attrs:{id:"copy文件进去或者copy出来"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#copy文件进去或者copy出来","aria-hidden":"true"}},[a._v("#")]),a._v(" copy文件进去或者copy出来")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker cp ntuser.ini 09:/var/www/html"),r("br"),a._v("docker cp 09:/var/www/html/index.html d:/"),r("br")])]),r("p",[a._v("09为containeid的前2位。")]),r("h2",{attrs:{id:"查看容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#查看容器","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看容器")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker ps "),r("br"),a._v("docker ps -a"),r("br")])]),r("h2",{attrs:{id:"docker容器中安装vim"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker容器中安装vim","aria-hidden":"true"}},[a._v("#")]),a._v(" docker容器中安装vim")]),r("p",[a._v("先 apt-get update  重新获取软件包列表 ， 然后 apt-get install vim 安装即可。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("apt-get install curl"),r("br"),a._v("apt-get install net-tools //netstat"),r("br")])]),r("h2",{attrs:{id:"提交修改"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#提交修改","aria-hidden":"true"}},[a._v("#")]),a._v(" 提交修改")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker commit -a xiaofengqing -m 'install vim,curl,net-tools' a4 myubuntu"),r("br")])]),r("h2",{attrs:{id:"rename-image"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rename-image","aria-hidden":"true"}},[a._v("#")]),a._v(" rename image")]),r("p",[a._v("iamge 无法重命名，只能用tag 新建一个")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker tag <image_id> <新名字>"),r("br")])]),r("h2",{attrs:{id:"delete-image"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#delete-image","aria-hidden":"true"}},[a._v("#")]),a._v(" delete image")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker rmi <image_id>"),r("br")])]),r("h2",{attrs:{id:"容器操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#容器操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 容器操作")]),r("h3",{attrs:{id:"重命名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#重命名","aria-hidden":"true"}},[a._v("#")]),a._v(" 重命名")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker rename a1917ec9b776 ng"),r("br")])]),r("h3",{attrs:{id:"查看详细"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#查看详细","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看详细")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker top ng"),r("br")])]),r("h3",{attrs:{id:"查看容器中运行着哪些进程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#查看容器中运行着哪些进程","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看容器中运行着哪些进程")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker top nginx_dist"),r("br"),a._v("UID     PID      PPID     C     STIME     TTY    TIME         CMD"),r("br"),a._v("root    24378    18471    0     15:25     ?      00:00:00     nginx: master process nginx -g daemon off;"),r("br"),a._v("101     24433    24378    0     15:25     ?      00:00:00     nginx: worker process"),r("br")])]),r("h3",{attrs:{id:"查看容器ip和主机等信息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#查看容器ip和主机等信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看容器IP和主机等信息")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker inspect nginx_dist |grep 172.17"),r("br"),a._v('        "Gateway": "172.17.42.1",'),r("br"),a._v('        "IPAddress": "172.17.42.6",'),r("br")])]),r("p",[a._v("连接到容器上，--sig-proxy可以保证 Ctrl+D、Ctrl+C 不会退出")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v(" docker attach --sig-proxy=false nginx_dist "),r("br")])]),r("h2",{attrs:{id:"设置一些别名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#设置一些别名","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置一些别名")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("alias c='docker container ls'"),r("br"),a._v("alias d='docker'"),r("br"),a._v("alias i='docker images'"),r("br"),a._v("alias ll='ls -l'"),r("br"),a._v("alias ls='ls -F --color=auto --show-control-chars'"),r("br"),a._v("alias r='docker run -i -t -d'"),r("br")])]),r("h2",{attrs:{id:"下载boot2docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#下载boot2docker","aria-hidden":"true"}},[a._v("#")]),a._v(" 下载boot2docker")]),r("p",[a._v("启动的时候会去github下载镜像，手工下载放到这个目录。(用迅雷下载，慢了就暂停再开始，能达到40-60k每秒)")]),r("p",[a._v("(default) Downloading C:\\Users\\Administrator.docker\\machine\\cache\\boot2docker.iso from https://github.com/boot2docker/boot2docker/releases/download/v17.11.0-ce/boot2docker.iso...")]),r("p",[a._v("C:\\Users\\Administrator.docker\\machine\\cache\\boot2docker.iso")]),r("p",[a._v("刚刚过了几天，最新版怎么变成了下面的了？")]),r("p",[a._v("(default) Downloading C:\\Users\\Administrator.docker\\machine\\cache\\boot2docker.iso from https://github.com/boot2docker/boot2docker/releases/download/v17.09.1-ce/boot2docker.iso...")]),r("h2",{attrs:{id:"阿里云docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#阿里云docker","aria-hidden":"true"}},[a._v("#")]),a._v(" 阿里云docker")]),r("p",[a._v("登录阿里云docker registry:")]),r("p",[a._v("$ sudo docker login --username=xwjie2016 registry.cn-hangzhou.aliyuncs.com\n登录registry的用户名是您的阿里云账号全名，密码是您开通服务时设置的密码。")]),r("p",[a._v("你可以在镜像管理首页点击右上角按钮修改docker login密码。")]),r("p",[a._v("从registry中拉取镜像：")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("$ sudo docker pull registry.cn-hangzhou.aliyuncs.com/xiaofengqing/main:[镜像版本号]"),r("br"),a._v("将镜像推送到registry："),r("br"),r("br"),a._v("$ sudo docker login --username=xwjie2016 registry.cn-hangzhou.aliyuncs.com"),r("br"),a._v("$ sudo docker tag [ImageId] registry.cn-hangzhou.aliyuncs.com/xiaofengqing/main:[镜像版本号]"),r("br"),a._v("$ sudo docker push registry.cn-hangzhou.aliyuncs.com/xiaofengqing/main:[镜像版本号]"),r("br"),a._v("其中[ImageId],[镜像版本号]请你根据自己的镜像信息进行填写。"),r("br")])]),r("h2",{attrs:{id:"搜索镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#搜索镜像","aria-hidden":"true"}},[a._v("#")]),a._v(" 搜索镜像")]),r("p",[a._v("https://dev.aliyun.com/search.html")]),r("p",[a._v("搜索到之后，里面已经有命令，直接复制下来。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker pull registry.cn-zhangjiakou.aliyuncs.com/cytong/redis"),r("br"),a._v("docker pull registry.cn-hangzhou.aliyuncs.com/wangbs/mongodb"),r("br")])]),r("h2",{attrs:{id:"daocloud"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#daocloud","aria-hidden":"true"}},[a._v("#")]),a._v(" daocloud")]),r("p",[a._v("http://026460a6.m.daocloud.io")])])}],!1,null,null,null);e.default=s.exports}}]);